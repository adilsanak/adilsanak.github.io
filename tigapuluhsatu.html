<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- =====BOX ICONS===== -->
        <link href="https://cdn.jsdelivr.net/npm/boxicons@2.0.5/css/boxicons.min.css" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />

        <!-- ===== CSS ===== -->
        <link rel="stylesheet" href="assets/css/styles.css" />

        <title>Our Anniversary</title>
    </head>
    <body>
        <!--===== HEADER =====-->
        <header class="l-header">
            <nav class="nav bd-grid">
                <div>
                    <a href="#" class="nav__logo">Anniv</a>
                </div>

                <div class="nav__toggle" id="nav-toggle">
                    <i class="bx bx-menu"></i>
                </div>

                <div class="nav__menu" id="nav-menu">
                    <div class="nav__close" id="nav-close">
                        <i class="bx bx-x"></i>
                    </div>

                    <ul class="nav__list">
                        <li class="nav__item"><a href="#" class="nav__link active">18</a></li>
                        <li class="nav__item"><a href="#" class="nav__link">Juni</a></li>
                        <li class="nav__item"><a href="#" class="nav__link">2021</a></li>
                    </ul>
                </div>
            </nav>
        </header>

        <main class="l-main">
            <!--===== HOME =====-->
            <section class="home" id="home">
                <div class="container grid">
                    <div class="data">
                        <h1 class="title">Pertanyaan 30</h1>
                        <p class="description">
                            Mimi pengen bilang apa ke abii..<br />
                            *Boleh unek-unek
                        </p>
                        <div class="buttonarea">
                            <form name="submit-to-google-sheet">
                                <input type="text" class="input_text" name="jawaban" />
                                <button type="submit" class="buttonsubmit btn-kirim">Syudaa</button>
                                <button type="button" class="buttonsubmit btn-loading d-none"><i class="fa fa-spinner fa-spin" style="margin-right: 3px"></i>Loading</button>
                            </form>
                        </div>
                    </div>
                </div>
            </section>
        </main>
        <script>
            const scriptURL = 'https://script.google.com/macros/s/AKfycbyLDz0SHScmdzq_lCnxXa1cNnxLvgYaI4dmzGG8CNXR9CFjIcXFtdUfnxCBT_1d5Tso_Q/exec';
            const form = document.forms['submit-to-google-sheet'];

            const btnKirim = document.querySelector('.btn-kirim');
            const btnLoading = document.querySelector('.btn-loading');

            form.addEventListener('submit', (e) => {
                e.preventDefault();
                btnKirim.classList.toggle('d-none');
                btnLoading.classList.toggle('d-none');
                fetch(scriptURL, { method: 'POST', body: new FormData(form) })
                    .then((response) => {
                        btnKirim.classList.toggle('d-none');
                        btnLoading.classList.toggle('d-none');
                        window.location.href = 'tigapuluhdua.html';
                        console.log('Success!', response);
                    })
                    .catch((error) => console.error('Error!', error.message));
            });
        </script>
        <!--===== GSAP =====-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js"></script>

        <!--===== MAIN JS =====-->
        <script src="assets/js/main.js"></script>
    </body>
</html>
